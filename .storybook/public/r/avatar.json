{
  "name": "avatar",
  "type": "registry:component",
  "externalDependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "name": "index.ts",
      "content": "export type {\n  AvatarStatusChangeDetails,\n  UseAvatarContext,\n  UseAvatarProps,\n  UseAvatarReturn,\n} from '@ark-ui/react/avatar'\nexport { useAvatar, useAvatarContext } from '@ark-ui/react/avatar'\n\nexport { getInitials } from './avatar'\nexport * as Avatar from './namespace'\n"
    },
    {
      "name": "namespace.ts",
      "content": "export {\n  AvatarBadge as Badge,\n  AvatarFallback as Fallback,\n  AvatarImage as Image,\n  AvatarNotification as Notification,\n  AvatarPositioner as Positioner,\n  AvatarRoot as Root,\n  AvatarRootProvider as RootProvider,\n  AvatarStatus as Status,\n} from './avatar'\n"
    },
    {
      "name": "avatar.tsx",
      "content": "'use client'\n\nimport * as React from 'react'\nimport type { Assign } from '@ark-ui/react'\nimport {\n  Avatar as ArkAvatar,\n  type AvatarFallbackProps as ArkAvatarFallbackProps,\n  type AvatarImageProps as ArkAvatarImageProps,\n  type AvatarRootProps as ArkAvatarRootProps,\n} from '@ark-ui/react/avatar'\nimport { ark } from '@ark-ui/react/factory'\n\nimport { cn } from '<%= it.aliases.utils %>/cn'\nimport { renderChildren } from '<%= it.aliases.utils %>/render-children'\nimport { tv, type VariantProps } from '<%= it.aliases.utils %>/tv'\nimport placeholderDark from './assets/placeholder-dark.png'\nimport placeholderLight from './assets/placeholder-light.png'\n\nconst AVATAR_ROOT_PROVIDER_NAME = 'Avatar.RootProvider'\nconst AVATAR_ROOT_NAME = 'Avatar.Root'\nconst AVATAR_IMAGE_NAME = 'Avatar.Image'\nconst AVATAR_FALLBACK_NAME = 'Avatar.Fallback'\nconst AVATAR_POSITIONER_NAME = 'Avatar.Positioner'\nconst AVATAR_STATUS_NAME = 'Avatar.Status'\nconst AVATAR_BADGE_NAME = 'Avatar.Badge'\nconst AVATAR_NOTIFICATION_NAME = 'Avatar.Notification'\n\nconst avatarVariants = tv({\n  slots: {\n    root: 'relative inline-flex shrink-0',\n    image: 'size-full rounded-full object-cover',\n    fallback: ['grid flex-1 place-items-center rounded-full bg-brand', 'text-fg-2 uppercase'],\n    positioner: 'absolute grid size-8 shrink-0 place-items-center drop-shadow-xs',\n  },\n  variants: {\n    size: {\n      '80': {\n        root: 'size-20',\n        fallback: 'text-title-h5',\n      },\n      '72': {\n        root: 'size-18',\n        fallback: 'text-title-h5',\n      },\n      '64': {\n        root: 'size-16',\n        fallback: 'text-title-h5',\n      },\n      '56': {\n        root: 'size-14',\n        fallback: 'text-label-lg',\n      },\n      '48': {\n        root: 'size-12',\n        fallback: 'text-label-lg',\n      },\n      '40': {\n        root: 'size-10',\n        fallback: 'text-label-md',\n      },\n      '32': {\n        root: 'size-8',\n        fallback: 'text-label-sm',\n      },\n      '24': {\n        root: 'size-6',\n        fallback: 'text-label-xs',\n      },\n      '20': {\n        root: 'size-5',\n        fallback: 'text-label-xs',\n      },\n    },\n  },\n  compoundVariants: [\n    {\n      size: ['80', '72'],\n      class: {\n        positioner: '-right-2',\n      },\n    },\n    {\n      size: '64',\n      class: {\n        positioner: '-right-2 scale-[.875]',\n      },\n    },\n    {\n      size: '56',\n      class: {\n        positioner: '-right-1.5 scale-75',\n      },\n    },\n    {\n      size: '48',\n      class: {\n        positioner: '-right-1.5 scale-[.625]',\n      },\n    },\n    {\n      size: '40',\n      class: {\n        positioner: '-right-1.5 scale-[.5625]',\n      },\n    },\n    {\n      size: '32',\n      class: {\n        positioner: '-right-1.5 scale-50',\n      },\n    },\n    {\n      size: '24',\n      class: {\n        positioner: '-right-1 scale-[.375]',\n      },\n    },\n    {\n      size: '20',\n      class: {\n        positioner: '-right-1 scale-[.3125]',\n      },\n    },\n  ],\n  defaultVariants: {\n    size: '56',\n  },\n})\n\nconst {\n  root: rootClasses,\n  image: imageClasses,\n  fallback: fallbackClasses,\n  positioner: positionerClasses,\n} = avatarVariants()\n\ntype AvatarSharedProps = VariantProps<typeof avatarVariants>\n\n////////////////////////////////////////////////////////////////////////////////////\n\nexport const AvatarRootProvider = ArkAvatar.RootProvider\nAvatarRootProvider.displayName = AVATAR_ROOT_PROVIDER_NAME\n\ninterface AvatarRootProps extends Assign<ArkAvatarRootProps, AvatarSharedProps> {}\n\nexport function AvatarRoot({ children, className, size, ...props }: AvatarRootProps) {\n  return (\n    <ArkAvatar.Root\n      className={rootClasses({\n        className,\n        size,\n      })}\n      {...props}\n    >\n      {renderChildren({\n        children,\n        displayNames: [AVATAR_IMAGE_NAME, AVATAR_FALLBACK_NAME, AVATAR_POSITIONER_NAME],\n        props: {\n          size,\n        },\n      })}\n    </ArkAvatar.Root>\n  )\n}\n\nAvatarRoot.displayName = AVATAR_ROOT_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\ninterface AvatarImageProps extends Assign<ArkAvatarImageProps, AvatarSharedProps> {\n  showPlaceholder?: boolean\n}\n\nexport const AvatarImage = React.forwardRef<HTMLImageElement, AvatarImageProps>(\n  ({ className, size, src, showPlaceholder = false, ...props }, ref) => {\n    const [isDarkTheme, setIsDarkTheme] = React.useState(false)\n\n    React.useEffect(() => {\n      if (typeof document === 'undefined') return\n\n      const theme = document.documentElement.getAttribute('data-theme')\n      setIsDarkTheme(theme === 'dark')\n\n      const observer = new MutationObserver(() => {\n        const currentTheme = document.documentElement.getAttribute('data-theme')\n        setIsDarkTheme(currentTheme === 'dark')\n      })\n\n      observer.observe(document.documentElement, {\n        attributes: true,\n        attributeFilter: ['data-theme'],\n      })\n\n      return () => observer.disconnect()\n    }, [])\n\n    const placeholderImg = isDarkTheme ? placeholderDark : placeholderLight\n\n    return (\n      <ArkAvatar.Image\n        ref={ref}\n        className={imageClasses({\n          className,\n          size,\n        })}\n        src={showPlaceholder ? placeholderImg : src}\n        {...props}\n      />\n    )\n  }\n)\n\nAvatarImage.displayName = AVATAR_IMAGE_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\nexport function AvatarFallback({\n  children,\n  className,\n  size = '80',\n  ...props\n}: Assign<ArkAvatarFallbackProps, AvatarSharedProps>) {\n  let fallbackContent = children\n\n  if (typeof children === 'string' && Number(size) <= 24) {\n    fallbackContent = children.charAt(0).toUpperCase()\n  }\n\n  return (\n    <ArkAvatar.Fallback\n      className={fallbackClasses({\n        className,\n        size,\n      })}\n      {...props}\n    >\n      {fallbackContent}\n    </ArkAvatar.Fallback>\n  )\n}\n\nAvatarFallback.displayName = AVATAR_FALLBACK_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\ninterface AvatarPositionerProps extends Assign<React.ComponentProps<'div'>, AvatarSharedProps> {\n  placement?: 'top' | 'bottom'\n}\n\nexport function AvatarPositioner({\n  children,\n  className,\n  placement = 'bottom',\n  size,\n  ...props\n}: AvatarPositionerProps) {\n  return (\n    <div\n      className={cn(\n        positionerClasses({\n          className:\n            placement === 'bottom' ? 'bottom-0 origin-bottom-right' : 'top-0 origin-top-right',\n          size,\n        }),\n        className\n      )}\n      data-scope=\"avatar\"\n      data-part=\"positioner\"\n      {...props}\n    >\n      {children}\n    </div>\n  )\n}\n\nAvatarPositioner.displayName = AVATAR_POSITIONER_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\ninterface AvatarStatusProps extends React.ComponentProps<'span'> {\n  type?: 'online' | 'offline' | 'busy' | 'away'\n}\n\nexport function AvatarStatus({ className, type = 'offline', ...props }: AvatarStatusProps) {\n  const STATUS_COLOR_MAP = {\n    online: '[--avatar-status-color:var(--color-success)]',\n    offline: '[--avatar-status-color:var(--color-fill-5)]',\n    busy: '[--avatar-status-color:var(--color-danger)]',\n    away: '[--avatar-status-color:var(--color-warning)]',\n  }\n\n  const STATUS_LABEL_MAP = {\n    online: 'Online',\n    offline: 'Offline',\n    busy: 'Busy',\n    away: 'Away',\n  }\n\n  return (\n    <span\n      role=\"status\"\n      className={cn(\n        'relative block size-5 rounded-full bg-surface-1',\n        'before:-translate-x-1/2 before:-translate-y-1/2 before:absolute before:top-1/2 before:left-1/2 before:size-3 before:rounded-[inherit] before:bg-(--avatar-status-color) before:content-[\"\"]',\n        STATUS_COLOR_MAP[type],\n        className\n      )}\n      data-scope=\"avatar\"\n      data-part=\"status\"\n      aria-label={STATUS_LABEL_MAP[type]}\n      aria-hidden\n      {...props}\n    />\n  )\n}\n\nAvatarStatus.displayName = AVATAR_STATUS_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\ninterface AvatarBadgeProps extends React.ComponentProps<typeof ark.img> {\n  decorative?: boolean\n}\n\nexport function AvatarBadge({ alt, decorative: isDecorative = false, ...props }: AvatarBadgeProps) {\n  return (\n    <ark.img\n      role=\"img\"\n      alt={isDecorative ? '' : alt}\n      data-scope=\"avatar\"\n      data-part=\"badge\"\n      aria-hidden={isDecorative}\n      {...props}\n    />\n  )\n}\n\nAvatarBadge.displayName = AVATAR_BADGE_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\ninterface AvatarNotificationProps extends React.ComponentProps<'span'> {}\n\nexport function AvatarNotification({\n  className,\n  'aria-label': ariaLabel = 'Unread notifications',\n  ...props\n}: AvatarNotificationProps) {\n  return (\n    <span\n      role=\"status\"\n      className={cn(\n        'relative block size-4 rounded-full bg-surface-1',\n        'before:-translate-x-1/2 before:-translate-y-1/2 before:absolute before:top-1/2 before:left-1/2 before:size-3 before:rounded-[inherit] before:bg-danger before:content-[\"\"]',\n        className\n      )}\n      data-scope=\"avatar\"\n      data-part=\"notification\"\n      aria-label={ariaLabel}\n      aria-hidden\n      {...props}\n    />\n  )\n}\n\nAvatarNotification.displayName = AVATAR_NOTIFICATION_NAME\n\n////////////////////////////////////////////////////////////////////////////////////\n\nexport function getInitials(name: string): string {\n  if (!name || typeof name !== 'string') return ''\n\n  const words = name.trim().split(/\\s+/).filter(Boolean)\n\n  if (words.length === 0) return ''\n\n  const initials = words\n    .slice(0, 2)\n    .map(word => word.charAt(0).toUpperCase())\n    .join('')\n\n  return initials\n}\n"
    }
  ],
  "createdAt": "2026-01-31T19:41:09.553Z",
  "updatedAt": "2026-01-31T19:41:09.553Z"
}